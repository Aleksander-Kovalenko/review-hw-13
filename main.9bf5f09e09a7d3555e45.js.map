{"version":3,"sources":["webpack:///./index.js","webpack:///./js/apiServer.js"],"names":["API","this","page","searchQuery","getFetch","url","BASE_URL","fetch","requestOnServer","json","response","hits","console","log","incrementPage","startPage","newQuery","test","alert","refs","card","document","querySelector","form","addEventListener","e","preventDefault","query","currentTarget","elements","value","reset"],"mappings":"ocAGMA,EAAM,I,WCFV,aACEC,KAAKC,KAAO,EACZD,KAAKE,YAAc,G,iCAGfC,S,+CAAN,8GAIQC,EAASC,sEAAsDL,KAAKE,YAJ5E,SAIgGF,KAAKC,KAApFI,sDAJjB,SAMgCC,MAAMF,GANtC,cAMQG,EANR,yBAS2BA,EAAgBC,OAT3C,cASUC,EATV,yBAUWA,EAASC,MAVpB,kCAYIC,QAAQC,IAAR,MAZJ,yD,sOAgBAC,cAAA,WACEb,KAAKC,MAAQ,G,EAEfa,UAAA,WACEd,KAAKC,KAAO,G,oCAIZ,OAAOD,KAAKE,a,aAGJa,GAER,IADiB,eAAeC,KAAKD,GAEnC,OAAOE,MAAM,mBAEfjB,KAAKE,YAAca,O,iCDlCjBG,EAAO,CACXC,KAAMC,SAASC,cAAc,YAC7BC,KAAMF,SAASC,cAAc,iBAG/BH,EAAKI,KAAKC,iBAAiB,UAE3B,SAAuBC,GACrBA,EAAEC,iBACF,IAAIC,EAAQF,EAAEG,cAAcC,SAASF,MAAMG,MAE3C,GAAc,KAAVH,EACF,OAAOT,MAAM,4CAGflB,EAAI2B,MAAQA,EACZ3B,EAAII,WAEJe,EAAKI,KAAKQ,a","file":"main.9bf5f09e09a7d3555e45.js","sourcesContent":["import './styles.css';\r\nimport ServerApi from './js/apiServer.js';\r\n\r\nconst API = new ServerApi();\r\nconst refs = {\r\n  card: document.querySelector('.gallery'),\r\n  form: document.querySelector('.search-form'),\r\n};\r\n\r\nrefs.form.addEventListener('submit', onSearchQuery);\r\n\r\nfunction onSearchQuery(e) {\r\n  e.preventDefault();\r\n  let query = e.currentTarget.elements.query.value;\r\n\r\n  if (query === '') {\r\n    return alert('Попробуйте! И вы удивитесь нашим ответом');\r\n  }\r\n\r\n  API.query = query;\r\n  API.getFetch();\r\n\r\n  refs.form.reset();\r\n}\r\n","export default class apiServer {\r\n  constructor() {\r\n    this.page = 1;\r\n    this.searchQuery = '';\r\n  }\r\n\r\n  async getFetch() {\r\n    const BASE_URL = 'https://pixabay.com/api/';\r\n    const API_KEY = '19724495-11683e473f3bf588d4ff86f50';\r\n\r\n    const url = `${BASE_URL}?image_type=photo&orientation=horizontal&q=${this.searchQuery}&page=${this.page}&per_page=12&key=${API_KEY}`;\r\n\r\n    const requestOnServer = await fetch(url);\r\n\r\n    try {\r\n      const response = await requestOnServer.json();\r\n      return response.hits;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  }\r\n  startPage() {\r\n    this.page = 1;\r\n  }\r\n\r\n  get query() {\r\n    return this.searchQuery;\r\n  }\r\n\r\n  set query(newQuery) {\r\n    const validate = /[a-zA-Z0-9]+/.test(newQuery);\r\n    if (!validate) {\r\n      return alert('А меня научишь?');\r\n    }\r\n    this.searchQuery = newQuery;\r\n  }\r\n}\r\n"],"sourceRoot":""}